---
extends: _core._layouts.documentation
section: content
title: 2.8 Composer and autoloading
description: 2.8 Composer and autoloading
---

# 2.8 Composer and autoloading

## Purpose

SFLoader uses **Composer** for class autoloading, simplifying project structure and removing the need to include every
file manually. Connection goes through the standard `vendor/autoload.php` generated by Composer.

## Project structure

`composer.json` and `vendor/` live at the project root:

```text
/simai/composer.json
/simai/vendor/
```

Loader classes such as `SIMAI\Main\Loader\Loader` are located at:

```text
/simai/loader/src
```

```php
require_once $_SERVER["DOCUMENT_ROOT"] . "/simai/vendor/autoload.php";
use SIMAI\Main\Loader\Loader;
$loader = new Loader();
$loader->init();

// for an Ajax request to simai/loader/loader.php:
$loader->initLoader();
```

## composer.json setup

Example `composer.json`:

```json
{
  "name": "sf5/new",
  "autoload": {
    "psr-4": {
      "SIMAI\\Main\\Loader\\": "loader/src/"
    }
  },
  "files": ["loader/src/Constants.php"],
  "require": {
    "teamtnt/tntsearch": "^4.4",
    "ext-dom": "*",
    "matthiasmullie/minify": "^1.3",
    "ext-zlib": "*"
  }
}
```

After changes run:

```shell
composer dump-autoload
```

## Benefits of Composer

* Automatic loading of all classes.
* IDE compatibility (autocompletion, go-to-definition).
* Simplified structure and scalability.
* Standardized connection across environments.

## Where it is used

* In `loader.php` included from the client.
* In `init.php`, tests, and CLI scripts.
* Anywhere loader classes are required.

## 2.6 Constants.php — Global paths and environment

## Purpose

`Constants.php` stores key global constants used across the SFLoader backend. These values define the framework root and
its physical disk location.

## Defined constants

| const SF_MAIN = '/simai'; define("SF_PATH", $_SERVER["DOCUMENT_ROOT"] . SF_MAIN); |
|:----------------------------------------------------------------------------------|

## Values

* `SF_MAIN` — relative path to the framework root inside the project (used in URLs).
* `SF_PATH` — absolute disk path (used for reading files).

## Used in:

* `LoaderAsset.php` — asset paths (`/asset/...`).
* `AssetManager.php` — cache/temp files (`/cache/loader/...`).
* `TemplateLoader.php` — template paths (`/cache/templates.txt`).
* `Loader.php` — **`clearCacheAnConfig()`**, **`getConfig()`**, **`getModule()`**, and other methods.
