(()=>{"use strict";var e={"./cl/templates/debug_components.html":(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});const n='<% if(data) { %>\r\n<% for(let key in data) { %>\r\n<% if(key !== \'debug\') { %>\r\n<div class="m-bottom-2">\r\n    <button class="cl--debug-btn p-2 bg-gray-5 w-full cursor-pointer" data-type="<%= key %>" type="button"><%= key %>\r\n    </button>\r\n    <div class="cl--debug-child flex-wrap">\r\n        <% for(let subChild in data[key]) { %>\r\n        <div data-key="<%= key %>" data-id="<%= data[key][subChild].id %>" class="cl--debug-child-item-wrap m-bottom-1">\r\n            <a href="#<%= data[key][subChild].id %>"\r\n               class="cl--debug-anch cl--debug-child-item m-bottom-1 cursor-pointer"><%=\r\n                key %>#<%= data[key][subChild].props.uniqueId %></a>\r\n        </div>\r\n        <% } %>\r\n    </div>\r\n</div>\r\n<% } %>\r\n<% } %>\r\n\r\n<% } %>'},"./smart/debug/scss/index.scss":(e,t,s)=>{s.r(t)},"./cl/classes/debug.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>a});var n=s("./cl/templates/debug_components.html");const a=class{enable=!1;componentsTemplate=n.default;elementsHtml;data={tables:["Компоненты","Статистика","Ошибки"],items:SF.cl.components,elements:SF.cl.initElements};constructor(e){this.item=e,e.props.data?(e.props.data.errorsCount=SF.cl.errorsCount,e.props.data.totalComponents=SF.cl.totalComponents):e.props.data={errorsCount:SF.cl.errorsCount,totalComponents:SF.cl.totalComponents},this.svg='<i class="text-1/2 content-main-center flex items-cross-center transition"><svg style="width:1em;height:1em" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"></path></svg></i>'}getElements(){const e={};for(const t in this.data.items)e[t]=this.data.elements[t]}setTime(){}addEvents(e){const t=e.querySelectorAll(".cl--debug-btn"),s=e.querySelectorAll(".cl--debug-child-item-wrap"),n=e.querySelectorAll(".cl--debug-anch");console.log("addEvents"),console.log(t),console.log(s),t&&Array.from(t).map((e=>{e.addEventListener("click",(()=>{e.parentNode.querySelector(".cl--debug-child").classList.toggle("active")}))})),s&&Array.from(s).map((e=>{console.log("init"),e.addEventListener("click",(()=>{e.classList.add("active");const t=e.dataset.id,s=SF.cl.getItemById(t),{name:n,props:a,id:c,defaultEvetns:d,uniqueId:r}=s,l={name:{name:"Имя",value:n},id:{name:"Идентификатор",value:c},loadTime:{name:"Время загрузки",value:SF.cl.intervals[r].time},data:{name:"Свойства",value:a.data}};d&&(l.events={name:"События",value:d}),this.generateProps(l)}))})),n&&Array.from(n).map((e=>{e.addEventListener("click",(t=>{this.getAnchEvents(t,e)}))}))}toggleDebug(e){const t=document.querySelector(".sf--debug-default"),s=document.getElementById("d_aside");s.classList.contains("active")&&s.classList.remove("active"),t.classList.toggle("hide"),e.classList.toggle("hide")}getAnchEvents(e,t){e.preventDefault();const s=document.querySelector(t.getAttribute("href")),n=document.querySelector("header").offsetHeight;window.scrollTo(s.offsetTop-n-100,0),s.classList.add("cl--debug-focused"),setTimeout((()=>{s.classList.remove("cl--debug-focused")}),2e3)}generateBlock(e,t){const s=document.createElement("li"),n=document.createElement("span"),a=document.createElement("span");return n.classList.add("cl--debug-name"),n.textContent=e,a.textContent=t,s.appendChild(n),s.appendChild(a),s}recursiveObject(e,t){for(const s in t)"object"==typeof t[s]?e[s]=this.recursiveObject({},t[s]):e[s]=t[s];return e}recursive(e){const t={};return this.recursiveObject(t,e),t}addClickEvent(e){e.addEventListener("click",(t=>{const s=e.nextElementSibling;s&&s.classList.toggle("active")}))}generateList(e,t){for(const s in t)if("object"==typeof t[s]){const n=document.createElement("ul"),a=document.createElement("li"),c=document.createElement("span");c.classList.add("cl--debug-name","has-children"),c.textContent=s,c.insertAdjacentHTML("beforeend",this.svg),this.addClickEvent(c),a.appendChild(c),n.appendChild(this.generateList(document.createElement("li"),t[s])),a.appendChild(n),e.appendChild(a)}else if("LI"===e.nodeName){const n=document.createElement("span");n.classList.add("cl--debug-name");const a=document.createElement("span");n.textContent=s,a.textContent=t[s],e.appendChild(n),e.appendChild(a)}else e.appendChild(this.generateBlock(s,t[s]));return e}eachItems(e){const t=document.createElement("ul");t.classList.add("cl--debug-ul");return this.generateList(t,e)}closeAside(e){const t=e.closest("#d_aside");t&&t.classList.remove("active")}generateProps(e){const t=document.getElementById("d_aside"),s=t.querySelector(".aside--content");s.innerHTML="";for(const t in e){const n=document.createElement("div"),a=document.createElement("span"),c=document.createElement("div");switch(n.classList.add("cl--debug-property","flex","flex-col"),a.classList.add("cl--debug-property-name"),a.textContent=`${e[t].name}: `,n.appendChild(a),t){case"data":case"events":const s=this.recursive(e[t].value),a=this.eachItems(s);n.appendChild(a);break;default:c.textContent=e[t].value,n.appendChild(c)}s.appendChild(n)}t.classList.add("active")}createElement(e=[],t,s="",n={}){const a=document.createElement(t);if(e.length&&a.classList.add(...e),s.length&&(a.textContent=s),Object.keys(n).length)for(const e in n)a.setAttribute(e,n[e]);return a}generateErrors(e){const t=SF.cl.errors,s=document.querySelector(`.cl--debug-tab[data-tab="${e}"]`);s.innerHTML="";const n=document.createElement("div");n.classList.add("cl--debug-errors");for(const e in t){const s=this.createElement(["cl--debug-errors-children"],"div"),a=this.createElement(["cl--debug-btn","p-2","bg-gray-5","w-full","cursor-pointer"],"button",e,{type:"button"});a.addEventListener("click",(()=>{s.classList.toggle("active")})),s.appendChild(a);for(const n in t[e]){const a=this.createElement(["cl--debug-errors-child"],"div"),c=this.createElement([],"a",n,{href:`#${n}`});c.addEventListener("click",(e=>{this.getAnchEvents(e,c)})),a.appendChild(c);const d=this.createElement([],"ul");t[e][n].map((e=>{const t=this.createElement(["color-danger"],"li",e);d.appendChild(t)})),a.appendChild(d),s.appendChild(a)}n.appendChild(s)}s.appendChild(n),this.doActiveTab(e)}doActiveTab(e){const t=document.querySelectorAll(".cl--debug-tab[data-tab]");if(Array.from(t).map((t=>{t.dataset.tab!==e?t.classList.remove("active"):t.classList.add("active")})),0!=+e){document.getElementById("d_aside").classList.remove("active")}}generateTemplate(e,t){const s=this.item.lodash.template(e),n=document.querySelector(`.cl--debug-tab[data-tab="${t}"]`);n.innerHTML=s({data:this.data.elements}),this.elementsHtml=n.innerHTML,this.addEvents(n),this.doActiveTab(t)}}},"./smart/debug/js/events.js":(e,t,s)=>{s.r(t),s.d(t,{init:()=>n});const n=e=>{const t=document.querySelectorAll("#cl_db_t button");if(t){const s=e.initiator.debug;Array.from(t).map((e=>{e.addEventListener("click",(()=>{const t=e.dataset.tab;switch(t){case"0":s.generateTemplate(s.componentsTemplate,t);break;case"1":s.generateErrors(t)}}))}))}}},"./smart/debug/js/parameters.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});const n={size:{small:{"data-code":{"sf-button-body":["w-1/2","h-3/4"]}},medium:{"data-code":{"sf-button-body":["w-2/6","h-2/4"]}}}}}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,s),c.exports}s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{s.r(n);s("./smart/debug/scss/index.scss");var e=s("./smart/debug/js/parameters.js"),t=s("./smart/debug/js/events.js"),a=s("./cl/classes/debug.js");class c extends SF.customComponent{constructor(s){t&&(s.initEvents=t),super(s),this.hasStyle=!0,this.debug=new a.default(this),this.params=e.default,this.init(),SF.cl.debug=this.debug}doFunctions(){}get attributes(){}}SF.cl.components.debug||(SF.cl.components.debug={item:c})})()})();